<!-- server/public/index.html -->
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI 음악 생성사이트 ♮</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header class="site-header">
        <div class="header-left">
            <h1>♮ AI 음악 생성 ♮</h1>
        </div>
        <div class="header-right">
            <!-- 로그인/회원가입 버튼 (로그인 전) -->
            <div id="headerControls" class="header-buttons">
                <button id="loginBtn" class="auth-btn">로그인</button>
                <button id="signupBtn" class="auth-btn">회원가입</button>
            </div>
            <!-- 프로필 영역 (로그인 후) -->
            <div id="profileSection" class="header-profile hidden">
                <span id="profileName"></span>
                <button id="logoutBtn" class="auth-btn">로그아웃</button>
            </div>
        </div>
    </header>

    <!-- 로그인 모달 -->
    <div id="loginModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeLogin" class="close">&times;</span>
            <h2>로그인</h2>
            <div class="input-group">
                <input id="loginEmail" type="email" placeholder="이메일" class="prompt-input" />
                <input id="loginPassword" type="password" placeholder="비밀번호" class="prompt-input" />
                <button id="loginSubmit" class="generate-btn">로그인</button>
            </div>
            <p id="loginMessage" class="message error"></p>
        </div>
    </div>

    <!-- 회원가입 모달 -->
    <div id="signupModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeSignup" class="close">&times;</span>
            <h2>회원가입</h2>
            <div class="input-group">
                <input id="signupEmail" type="email" placeholder="이메일" class="prompt-input" />
                <input id="signupPassword" type="password" placeholder="비밀번호" class="prompt-input" />
                <input id="signupUsername" type="text" placeholder="닉네임" class="prompt-input" />
                <button id="signupSubmit" class="generate-btn">회원가입</button>
            </div>
            <p id="signupMessage" class="message error"></p>
        </div>
    </div>

    <!-- AI 생성 섹션 (로그인 후 보이기) -->
    <section id="generateSection" class="section hidden">
        <h2>1. 프롬프트 또는 이미지</h2>
        <div class="input-group">
            <input id="promptInput" type="text" placeholder="프롬프트를 입력하세요" class="prompt-input" />
            <div id="dropZone" class="drop-zone">
                <p>이미지를 드래그하거나 클릭하여 업로드 📷</p>
                <input id="imageInput" type="file" accept="image/*" hidden />
            </div>
        </div>

        <h2>2. 옵션 선택</h2>
        <div class="options mandatory-options">
            <div class="option-btn active" data-type="both">가사+멜로디</div>
            <div class="option-btn" data-type="lyrics">가사만</div>
            <div class="option-btn" data-type="melody">멜로디만</div>
        </div>
        <div class="options category-options">
            <div class="option-btn" data-cat="genre">장르</div>
            <div class="option-btn" data-cat="mood">분위기</div>
            <div class="option-btn" data-cat="activity">활동</div>
        </div>
        <div id="subOptions" class="sub-options"></div>

        <h2>3. 악보 옵션</h2>
        <label class="checkbox-label">
            <input id="sheetOption" type="checkbox" /> 악보 보기
        </label>

        <button id="generateBtn" class="generate-btn">음악 생성</button>

        <div id="results" class="results hidden">
            <h3>생성된 가사</h3>
            <pre id="lyrics" class="result-box"></pre>
            <h3>생성된 멜로디</h3>
            <pre id="melody" class="result-box"></pre>
            <button id="saveSongBtn" class="generate-btn">저장하기</button>
            <p id="saveMessage" class="message success"></p>
        </div>
    </section>

    <!-- 내 노래 & 공개 노래 섹션 (로그인 후 보이기) -->
    <section id="mySongsSection" class="section hidden">
        <h2>내가 저장한 노래</h2>
        <ul id="songList" class="song-list"></ul>
    </section>

    <section id="allSongsSection" class="section hidden">
        <h2>공개된 모든 노래</h2>
        <ul id="allSongList" class="song-list"></ul>
    </section>

    <!-- 댓글 모달 -->
    <div id="commentModal" class="modal hidden">
        <div class="modal-content large">
            <span id="closeComment" class="close">&times;</span>
            <h2>댓글</h2>
            <ul id="commentList" class="comment-list"></ul>
            <div class="input-group comment-input-group">
                <input id="commentInput" type="text" placeholder="댓글을 입력하세요" class="prompt-input comment-field" />
                <button id="commentSubmit" class="generate-btn">등록</button>
            </div>
            <p id="commentMessage" class="message error"></p>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>